<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scalping Signal Pro | AI Trading Bot</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://unpkg.com/lightweight-charts/dist/lightweight-charts.standalone.production.js"></script>
</head>
<body>
    <div class="container">
        <div class="sidebar">
            <div class="logo">
                <div class="logo-icon">ü§ñ</div>
                <h1 id="logo-text">Scalping Signal Pro</h1>
            </div>
            
            <div class="bot-status">
                <div class="status-indicator">
                    <span class="status-dot" id="status-dot"></span>
                    <span id="status-text">–°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å MT5...</span>
                </div>
            </div>

            <div class="settings">
                <div class="input-group language-dropdown">
                    <label id="language-label">–Ø–∑—ã–∫</label>
                    <div class="lang-select" id="custom-language-selector">
                        <button class="lang-selected" onclick="toggleLangDropdown()">
                            <img id="current-flag" src="https://flagcdn.com/w20/ru.png" alt="RU" class="flag-icon">
                            <span id="current-lang-text">–†—É—Å—Å–∫–∏–π</span>
                            <svg class="arrow-down" viewBox="0 0 24 24" width="16" height="16">
                                <path d="M7 10l5 5 5-5z" fill="currentColor"></path>
                            </svg>
                        </button>
                        <div class="lang-dropdown-content" id="lang-options">
                            <div class="lang-item" data-lang="ru" data-flag="https://flagcdn.com/w20/ru.png">–†—É—Å—Å–∫–∏–π</div>
                            <div class="lang-item" data-lang="en" data-flag="https://flagcdn.com/w20/gb.png">English</div>
                            <div class="lang-item" data-lang="uz" data-flag="https://flagcdn.com/w20/uz.png">O'zbek</div>
                        </div>
                    </div>
                </div>

                <div class="input-group">
                    <label id="market-label">–†—ã–Ω–æ–∫</label>
                    <select id="market-type">
                        <option value="forex">–§–æ—Ä–µ–∫—Å</option>
                        <option value="otc">OTC –†—ã–Ω–æ–∫</option>
                    </select>
                </div>

                <div class="input-group">
                    <label id="currency-label">–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç</label>
                    <select id="currency-pair">
                        <!-- Forex instruments will be loaded here -->
                    </select>
                </div>

                <div class="input-group">
                    <label id="timeframe-label">–¢–∞–π–º—Ñ—Ä–µ–π–º</label>
                    <select id="timeframe">
                        <option value="3">3 —Å–µ–∫—É–Ω–¥—ã</option>
                        <option value="5">5 —Å–µ–∫—É–Ω–¥</option>
                        <option value="10">10 —Å–µ–∫—É–Ω–¥</option>
                        <option value="15">15 —Å–µ–∫—É–Ω–¥</option>
                        <option value="30">30 —Å–µ–∫—É–Ω–¥</option>
                        <option value="60">1 –º–∏–Ω—É—Ç–∞</option>
                        <option value="120">2 –º–∏–Ω—É—Ç—ã</option>
                        <option value="180">3 –º–∏–Ω—É—Ç—ã</option>
                    </select>
                </div>

                <div class="input-group">
                    <label id="risk-label">–£—Ä–æ–≤–µ–Ω—å —Ä–∏—Å–∫–∞</label>
                    <select id="risk-level">
                        <option value="low">–ù–∏–∑–∫–∏–π</option>
                        <option value="medium" selected>–°—Ä–µ–¥–Ω–∏–π</option>
                        <option value="high">–í—ã—Å–æ–∫–∏–π</option>
                    </select>
                </div>

                <div class="button-group">
                    <button id="start-bot" class="button button-green">
                        <span class="button-icon">‚ñ∂Ô∏è</span>
                        <span id="start-btn-text">–ó–∞–ø—É—Å–∫ –±–æ—Ç–∞</span>
                    </button>
                    <button id="stop-bot" class="button button-red" disabled>
                        <span class="button-icon">‚èπÔ∏è</span>
                        <span id="stop-btn-text">–û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å</span>
                    </button>
                    <a href="https://t.me/+hScZSoUXQe9jN2Ji" target="_blank" class="button button-blue">
                        <svg xmlns="http://www.w3.org/2000/svg" height="16" viewBox="0 0 24 24" fill="white">
                            <path d="M9.93 12.645 9.6 16.306c.49 0 .703-.21.96-.46l2.3-2.175 4.77 3.48c.87.48 1.5.23 1.72-.81l3.12-14.7c.28-1.25-.45-1.74-1.29-1.45L1.56 9.03c-1.21.47-1.2 1.14-.21 1.44l4.96 1.55L18.39 4.92c.45-.3.87-.13.53.17L9.93 12.645z"/>
                        </svg>
                        Telegram –ö–∞–Ω–∞–ª
                    </a>
                </div>
            </div>

            <div class="statistics">
                <h3 id="stats-title">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h3>
                <div class="stats-grid">
                    <div class="stat-item">
                        <span class="stat-label" id="total-signals-label">–í—Å–µ–≥–æ —Å–∏–≥–Ω–∞–ª–æ–≤</span>
                        <span class="stat-value" id="total-signals">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label" id="win-rate-label">Win Rate</span>
                        <span class="stat-value" id="win-rate">0%</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label" id="profit-label">–ü—Ä–∏–±—ã–ª—å</span>
                        <span class="stat-value profit-positive" id="profit">+0.00</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="main-content">
            <div class="chart-block">
                <div class="chart-header">
                    <h2 id="chart-title">–ì—Ä–∞—Ñ–∏–∫ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏</h2>
                    <div class="chart-controls">
                        <button id="chart-type-btn" class="chart-btn">–°–≤–µ—á–∏</button>
                        <button id="timeframe-quick-btn" class="chart-btn active">5s</button>
                    </div>
                </div>
                <div id="chart-container"></div>
            </div>

            <div class="signal-block">
                <div class="signal-header">
                    <h2 id="signal-title">–¢–µ–∫—É—â–∏–π —Å–∏–≥–Ω–∞–ª</h2>
                    <div class="signal-meta">
                        <span id="signal-time">--:--:--</span>
                        <span class="signal-countdown" id="signal-countdown"></span>
                    </div>
                </div>
                <div id="signal-result" class="signal-result">
                    <div class="analyzing-container">
                        <div class="signal-analyzing" id="analyzing-text">
                            –û–∂–∏–¥–∞–Ω–∏–µ —Å–∏–≥–Ω–∞–ª–∞
                            <span class="dots">
                                <span>.</span><span>.</span><span>.</span>
                            </span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" id="progress-fill"></div>
                        </div>
                    </div>
                    <div class="signal-details" id="signal-details" style="display: none;">
                        <div class="signal-main">
                            <span class="signal-pair" id="signal-pair">---</span>
                            <span class="signal-direction" id="signal-direction"></span>
                        </div>
                        <div class="signal-info">
                            <div class="info-row">
                                <span class="info-label">–í—Ö–æ–¥:</span>
                                <span class="info-value" id="entry-price">--.--</span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">–ó–∞–∫—Ä—ã—Ç–∏–µ:</span>
                                <span class="info-value" id="close-price">--.--</span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">–†–µ–∑—É–ª—å—Ç–∞—Ç:</span>
                                <span class="info-value" id="signal-result-text">--</span>
                            </div>
                            <div class="info-row">
                                <span class="info-label">–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å:</span>
                                <span class="info-value" id="signal-probability">--%</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="history-block">
                <div class="history-header">
                    <h2 id="history-title">–ò—Å—Ç–æ—Ä–∏—è —Å–∏–≥–Ω–∞–ª–æ–≤</h2>
                    <button id="clear-history" class="button-small">–û—á–∏—Å—Ç–∏—Ç—å</button>
                </div>
                <div class="history-table-container">
                    <table class="history-table">
                        <thead>
                            <tr>
                                <th>–í—Ä–µ–º—è</th>
                                <th>–ü–∞—Ä–∞</th>
                                <th>–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</th>
                                <th>–í—Ö–æ–¥</th>
                                <th>–ó–∞–∫—Ä—ã—Ç–∏–µ</th>
                                <th>–†–µ–∑—É–ª—å—Ç–∞—Ç</th>
                            </tr>
                        </thead>
                        <tbody id="history-body">
                            <!-- History rows will be inserted here -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
